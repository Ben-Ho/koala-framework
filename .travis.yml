language: php
php:
  - "5.3"
before_script:
  - echo "extension = apc.so" >> ~/.phpenv/versions/$(phpenv version-name)/etc/php.ini
  - echo "extension = memcache.so" >> ~/.phpenv/versions/$(phpenv version-name)/etc/php.ini
  - php --info
  - git clone git://github.com/vivid-planet/library.git
  - mysql -e "CREATE USER 'test'@'localhost' IDENTIFIED BY 'test';"
  - mysql -e "GRANT ALL PRIVILEGES ON * . * TO 'test'@'localhost';"
  - echo "`pwd`/library/zend/%version%" > include_path
  - echo "[production]" > tests/config.local.ini
  - echo "database.web.username = root" >> tests/config.local.ini
  - echo "database.web.password = " >> tests/config.local.ini
  - echo "database.web.host = localhost" >> tests/config.local.ini
  - echo "database.web.dbname = kwf_test" >> tests/config.local.ini
  - echo "server.domain = localhost" >> tests/config.local.ini
  - chmod a+w tests/cache/*
  - chmod a+w tests/temp
  - php bootstrap.php
script: "php bootstrap.php test --exclude-group=slow"
notificaitons:
  irc: "irc.freenode.org#kwf"

