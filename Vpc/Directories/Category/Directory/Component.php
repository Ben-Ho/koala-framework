<?phpclass Vpc_Directories_Category_Directory_Component extends Vpc_Directories_ItemPage_Directory_Component{    public static function getSettings()    {        $ret = parent::getSettings();        $ret['pool'] = null;        $ret['tablename'] = 'Vps_Dao_Pool';        $ret['generators']['detail']['class'] = 'Vpc_Directories_Category_Directory_Generator';        $ret['generators']['detail']['component'] = 'Vpc_Directories_Category_Detail_Component';        $ret['generators']['detail']['showInMenu'] = true;        // zB fÃ¼r Kategorien Box        $ret['categoryChildId'] = 'categories';        $ret['categoryName'] = trlVps('Categories');        $ret['assetsAdmin']['files'][] = 'vps/Vpc/Directories/Category/Directory/Plugin.js';        $ret['assetsAdmin']['dep'][] = 'VpsPool';        $ret['hasModifyItemData'] = true;        $ret['categoryToItemTableName'] = null;        return $ret;    }    public static function modifyItemData(Vps_Component_Data $item, $componentClass)    {        if (!$table = Vpc_Abstract::getSetting($componentClass, 'categoryToItemTableName')) {            throw new Vps_Exception("Setting 'categoryToItemTableName' must be set in component '$componentClass'");        }        $poolTableName = Vpc_Abstract::getSetting($componentClass, 'tablename');        $categories = $item->row->getRow()->findManyToManyRowset($poolTableName, $table);        $item->categories = array();        foreach ($categories as $c) {            $item->categories[] = Vps_Component_Data_Root::getInstance()                ->getComponentById($item->parent->componentId.'_categories_'.$c->id);        }    }    public function getSelect()    {        $select = $this->getData()->getGenerator('detail')->select($this->getData());        if ($this->_getSetting('order') !== false) {            $select->order($this->_getSetting('order'));        }        return $select;    }}