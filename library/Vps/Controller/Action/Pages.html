{literal}
<link rel="stylesheet" type="text/css" href="/files/ext/resources/css/ext-all.css" />
<script type="text/javascript" src="/files/ext/adapter/yui/yui-utilities.js"></script>
<script type="text/javascript" src="/files/ext/adapter/yui/ext-yui-adapter.js"></script>
<script type="text/javascript" src="/files/ext/ext-all.js"></script>


<div id="treeDiv1" />
  
<script type="text/javascript">

Ext.onReady(function(){
    // shorthand
    var Tree = Ext.tree;
    
    var tree = new Tree.TreePanel(
        'treeDiv1',
        {
            animate:true, 
            loader: new Tree.TreeLoader({dataUrl:'/admin/pages/ajaxGetNodes', baseParams:{'expandedPath': '{/literal}{$expandedPath}{literal}'}}),
            enableDD:true,
            containerScroll: true,
            rootVisible: false
        }
    );

    // set the root node
    var root = new Tree.AsyncTreeNode({
        text: 'yui-ext',
        draggable:false,
        id:'source'
    });
    tree.setRootNode(root);

    tree.on('nodedrop', function(e){
        alert('drop');
    });
    
    // render the tree
    tree.render();
    root.expand();
});
</script>
{/literal}
